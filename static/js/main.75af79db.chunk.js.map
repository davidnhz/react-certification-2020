{"version":3,"sources":["utils/storage.js","providers/Auth/Auth.provider.jsx","utils/constants.js","components/Card/Card.component.jsx","components/List/List.component.jsx","pages/Home/Home.page.jsx","pages/Login/Login.page.jsx","pages/NotFound/NotFound.page.jsx","pages/Secret/Secret.page.jsx","components/Private/Private.component.jsx","utils/fns.js","utils/hooks/useFortune.js","components/Fortune/Fortune.component.jsx","components/Layout/Layout.component.jsx","components/Header/Header.component.jsx","components/App/App.component.jsx","index.jsx"],"names":["storage","key","rawValue","window","localStorage","getItem","JSON","parse","error","console","value","setItem","stringify","AuthContext","React","createContext","useAuth","context","useContext","Error","AuthProvider","children","useState","authenticated","setAuthenticated","useEffect","lastAuthState","isAuthenticated","Boolean","login","useCallback","logout","Provider","Card","title","description","thumbnail","className","data-testid","src","alt","List","items","map","etag","snippet","thumbnails","default","url","HomePage","history","useHistory","sectionRef","useRef","ref","to","onClick","event","preventDefault","push","LoginPage","onSubmit","htmlFor","required","type","id","NotFoundPage","SecretPage","width","height","allowFullScreen","frameBorder","allow","Private","rest","render","random","limit","Math","floor","API_URL","Fortune","fortune","setFortune","a","fetch","response","json","fortuneCookies","randomIndex","length","currentFortune","message","findMyFortune","useFortune","Layout","Header","tabIndex","aria-label","focusable","viewBox","aria-hidden","d","placeholder","aria-haspopup","App","useLayoutEffect","body","document","rotateBackground","xPercent","yPercent","style","setProperty","intervalId","setInterval","addEventListener","clearInterval","removeEventListener","exact","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.75af79db.chunk.js","sourcesContent":["const storage = {\n  get(key) {\n    try {\n      const rawValue = window.localStorage.getItem(key);\n      return JSON.parse(rawValue);\n    } catch (error) {\n      console.error(`Error parsing storage item \"${key}\".`);\n      return null;\n    }\n  },\n\n  set(key, value) {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  },\n};\n\nexport { storage };\n","import React, { useState, useEffect, useContext, useCallback } from 'react';\n\nimport { AUTH_STORAGE_KEY } from '../../utils/constants';\nimport { storage } from '../../utils/storage';\n\nconst AuthContext = React.createContext(null);\n\nfunction useAuth() {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(`Can't use \"useAuth\" without an AuthProvider!`);\n  }\n  return context;\n}\n\nfunction AuthProvider({ children }) {\n  const [authenticated, setAuthenticated] = useState(false);\n\n  useEffect(() => {\n    const lastAuthState = storage.get(AUTH_STORAGE_KEY);\n    const isAuthenticated = Boolean(lastAuthState);\n\n    setAuthenticated(isAuthenticated);\n  }, []);\n\n  const login = useCallback(() => {\n    setAuthenticated(true);\n    storage.set(AUTH_STORAGE_KEY, true);\n  }, []);\n\n  const logout = useCallback(() => {\n    setAuthenticated(false);\n    storage.set(AUTH_STORAGE_KEY, false);\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ login, logout, authenticated }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport { useAuth };\nexport default AuthProvider;\n","const AUTH_STORAGE_KEY = 'wa_cert_authenticated';\n\nexport { AUTH_STORAGE_KEY };\n","import React from 'react';\n\nimport './Card.styles.css';\n// import Styled from \"./styled\";\n\nfunction Card({ title, description, thumbnail }) {\n  return (\n    <div className=\"item\" data-testid=\"item\">\n      <h4>{title}</h4>\n      <img src={thumbnail} alt=\"\" />\n      <div className=\"\">{description}</div>\n    </div>\n  );\n}\n\n// const Card = ({ title, description, thumbnail }) => (\n//   <Styled.container>\n//     <Styled.Title>{title}</Styled.Title>\n//     <Styled.Thumbnail url={thumbnail}></Styled.Thumbnail>\n//     <Styled.description>{description}</Styled.description>\n//   </Styled.container>\n// );\n\nexport default Card;\n","import React from 'react';\n\nimport './List.styles.css';\n\nimport Card from '../Card';\n\nfunction List({ items }) {\n  return (\n    <div className=\"items-list\" data-testid=\"items-list\">\n      {items.map(({ etag, snippet }) => (\n        <Card\n          key={etag}\n          title={snippet.title}\n          description={snippet.description}\n          thumbnail={snippet.thumbnails.default.url}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default List;\n","import React, { useRef } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport { useAuth } from '../../providers/Auth';\nimport './Home.styles.css';\nimport List from '../../components/List/List.component';\n\nimport mockedData from '../../youtube-videos-mock.json';\n\nconst { items } = mockedData;\n\nfunction HomePage() {\n  const history = useHistory();\n  const sectionRef = useRef(null);\n  const { authenticated, logout } = useAuth();\n\n  function deAuthenticate(event) {\n    event.preventDefault();\n    logout();\n    history.push('/');\n  }\n\n  return (\n    <section className=\"homepage\" ref={sectionRef}>\n      {authenticated ? (\n        <>\n          <h2>Good to have you back</h2>\n          <span>\n            <Link to=\"/\" onClick={deAuthenticate}>\n              ← logout\n            </Link>\n          </span>\n        </>\n      ) : (\n        <Link to=\"/login\">let me in →</Link>\n      )}\n      <h3>Items list</h3>\n      <List items={items} />\n    </section>\n  );\n}\n\nexport default HomePage;\n","import React from 'react';\nimport { useHistory } from 'react-router';\n\nimport { useAuth } from '../../providers/Auth';\nimport './Login.styles.css';\n\nfunction LoginPage() {\n  const { login } = useAuth();\n  const history = useHistory();\n\n  function authenticate(event) {\n    event.preventDefault();\n    login();\n    history.push('/secret');\n  }\n\n  return (\n    <section className=\"login\">\n      <h1>Welcome back!</h1>\n      <form onSubmit={authenticate} className=\"login-form\">\n        <div className=\"form-group\">\n          <label htmlFor=\"username\">\n            <strong>username </strong>\n            <input required type=\"text\" id=\"username\" />\n          </label>\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">\n            <strong>password </strong>\n            <input required type=\"password\" id=\"password\" />\n          </label>\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n    </section>\n  );\n}\n\nexport default LoginPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './NotFound.styles.css';\n\nfunction NotFoundPage() {\n  return (\n    <section className=\"not-found\">\n      <Link to=\"/\" className=\"home-link\">\n        home\n      </Link>\n      <img src=\"404.gif\" alt=\"page not found\" />\n    </section>\n  );\n}\n\nexport default NotFoundPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction SecretPage() {\n  return (\n    <section>\n      <pre>\n        welcome, voyager...\n        <Link to=\"/\"> ← go back</Link>\n      </pre>\n      <iframe\n        width=\"800\"\n        height=\"450\"\n        allowFullScreen\n        frameBorder=\"0\"\n        title=\"rick roll\"\n        src=\"https://www.youtube.com/embed/dQw4w9WgXcQ?controls=0&autoplay=1\"\n        allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n      />\n    </section>\n  );\n}\n\nexport default SecretPage;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nimport { useAuth } from '../../providers/Auth';\n\nfunction Private({ children, ...rest }) {\n  const { authenticated } = useAuth();\n\n  return (\n    <Route {...rest} render={() => (authenticated ? children : <Redirect to=\"/\" />)} />\n  );\n}\n\nexport default Private;\n","function random(limit) {\n  return Math.floor(Math.random() * limit);\n}\n\nexport { random };\n","import { useState, useEffect } from 'react';\n\nimport { random } from '../fns';\n\nconst API_URL = 'http://fortunecookieapi.herokuapp.com/v1/fortunes?limit=10';\n\nfunction useFortune() {\n  const [fortune, setFortune] = useState(null);\n\n  useEffect(() => {\n    async function findMyFortune() {\n      try {\n        const response = await fetch(API_URL);\n        const fortuneCookies = await response.json();\n\n        const randomIndex = random(fortuneCookies.length);\n        const currentFortune = fortuneCookies[randomIndex];\n\n        setFortune(currentFortune.message);\n      } catch (error) {\n        console.error('Bad fortune: ', error);\n      }\n    }\n\n    findMyFortune();\n  }, []);\n\n  return { fortune };\n}\n\nexport { useFortune };\n","import React from 'react';\n\nimport { useFortune } from '../../utils/hooks/useFortune';\nimport './Fortune.styles.css';\n\nfunction Fortune() {\n  const { fortune } = useFortune();\n\n  return <span className=\"fortune\">{fortune} </span>;\n}\n\nexport default Fortune;\n","import React from 'react';\n\nimport './Layout.styles.css';\n\nfunction Layout({ children }) {\n  return <main className=\"container\">{children}</main>;\n}\n\nexport default Layout;\n","import React from 'react';\n\nimport './Header.styles.css';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <div className=\"toolbar\">\n        <button\n          className=\"menu-button\"\n          tabIndex=\"0\"\n          type=\"button\"\n          aria-label=\"open drawer\"\n        >\n          <span className=\"menu-button-label\">\n            <svg\n              className=\"menu-button-icon\"\n              focusable=\"false\"\n              viewBox=\"0 0 24 24\"\n              aria-hidden=\"true\"\n            >\n              <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\" />\n            </svg>\n          </span>\n        </button>\n        <div className=\"menu-search\">\n          <div className=\"menu-button-search\">\n            <svg\n              className=\"menu-button-icon\"\n              focusable=\"false\"\n              viewBox=\"0 0 24 24\"\n              aria-hidden=\"true\"\n            >\n              <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\n            </svg>\n          </div>\n          <div className=\"menu-input\">\n            <input placeholder=\"Search…\" type=\"text\" aria-label=\"search\" value=\"react\" />\n          </div>\n        </div>\n        <div className=\"menu-center\" />\n        <div className=\"menu-elements\">\n          <div>\n            <button\n              className=\"menu-button-login\"\n              tabIndex=\"0\"\n              type=\"button\"\n              aria-label=\"account of current user\"\n              aria-haspopup=\"true\"\n            >\n              <span className=\"menu-button-label\">\n                <div className=\"menu-avatar\">\n                  <svg\n                    className=\"menu-button-icon\"\n                    focusable=\"false\"\n                    viewBox=\"0 0 24 24\"\n                    aria-hidden=\"true\"\n                  >\n                    <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\" />\n                  </svg>\n                </div>\n              </span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React, { useLayoutEffect } from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport AuthProvider from '../../providers/Auth';\nimport HomePage from '../../pages/Home';\nimport LoginPage from '../../pages/Login';\nimport NotFound from '../../pages/NotFound';\nimport SecretPage from '../../pages/Secret';\nimport Private from '../Private';\nimport Fortune from '../Fortune';\nimport Layout from '../Layout';\nimport Header from '../Header';\nimport { random } from '../../utils/fns';\n\nfunction App() {\n  useLayoutEffect(() => {\n    const { body } = document;\n\n    function rotateBackground() {\n      const xPercent = random(100);\n      const yPercent = random(100);\n      body.style.setProperty('--bg-position', `${xPercent}% ${yPercent}%`);\n    }\n\n    const intervalId = setInterval(rotateBackground, 3000);\n    body.addEventListener('click', rotateBackground);\n\n    return () => {\n      clearInterval(intervalId);\n      body.removeEventListener('click', rotateBackground);\n    };\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Header />\n        <Layout>\n          <Switch>\n            <Route exact path=\"/\">\n              <HomePage />\n            </Route>\n            <Route exact path=\"/login\">\n              <LoginPage />\n            </Route>\n            <Private exact path=\"/secret\">\n              <SecretPage />\n            </Private>\n            <Route path=\"*\">\n              <NotFound />\n            </Route>\n          </Switch>\n          <Fortune />\n        </Layout>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App';\nimport './global.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}